import{c as C,j as e,s as b,a5 as s,f as n,C as v,Z as g,T as p,n as w,y as A,A as T,aW as P,aX as I,aY as f,aZ as l,a_ as k,a2 as x,b0 as B,a4 as j,D as q,E as z,B as D,w as E,k as N,r as h,a$ as O,aN as c}from"./index-36c7f493.js";import{I as R,f as $,S as H}from"./formatNumber-be38c5b4.js";import{a as W}from"./Scrollbar-afe2dcbd.js";import{C as S}from"./Chip-3cd889a2.js";import{A as M}from"./ArrowForwardIos-1112b628.js";import{C as V}from"./Container-308d85a9.js";import{B as G,P as J}from"./AdminRoutes-6c78ed15.js";import"./useRsponsive-e46901fb.js";const Z=C(e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"}),"MonetizationOnOutlined"),F=b("div")(({theme:i})=>({margin:"auto",display:"flex",borderRadius:"50%",alignItems:"center",width:i.spacing(8),height:i.spacing(8),justifyContent:"center",marginBottom:i.spacing(3)}));u.propTypes={color:s.string,icon:s.string,title:s.string.isRequired,total:s.number.isRequired,sx:s.object};function u({title:i,total:o,icon:d,color:r="primary",sx:m,...a}){return n(v,{sx:{py:5,boxShadow:0,textAlign:"center",color:t=>t.palette[r].darker,bgcolor:t=>t.palette[r].lighter,...m},...a,children:[e(F,{sx:{color:t=>t.palette[r].dark,backgroundImage:t=>`linear-gradient(135deg, ${g(t.palette[r].dark,0)} 0%, ${g(t.palette[r].dark,.24)} 100%)`},children:e(R,{sx:{width:"24",height:"24"},children:d})}),e(p,{variant:"h3",children:$(o)}),e(p,{variant:"subtitle2",sx:{opacity:.72},children:i})]})}const y=({sps:i,sx:o})=>{const d=w(),r=a=>{window.open(`tel:${a}`)},m=a=>{window.open(`mailto:${a}`)};return n(v,{sx:o,children:[e(A,{title:"Pending Service Provider Activations"}),e("br",{}),e(W,{sx:{flexGrow:1},children:e(T,{sx:{minWidth:800},children:n(P,{children:[e(I,{children:n(f,{children:[e(l,{children:"Company Name"}),e(l,{children:"Contacts"}),e(l,{sortDirection:"desc",children:"Submission Date"})]})}),e(k,{children:i==null?void 0:i.map((a,t)=>n(f,{hover:!0,sx:{cursor:"pointer"},onClick:()=>d(`/admin/dash/sps/${a.SPid}`),children:[e(l,{children:a.SPname}),n(l,{children:[e(x,{title:"Send Email",arrow:!0,children:e(S,{label:a.email,color:"info",onClick:()=>m(a.email),variant:"outlined"})}),"â€‚",e(x,{title:"Call Client",arrow:!0,children:e(S,{label:a.contact,color:"info",onClick:()=>r(a.contact),variant:"outlined"})})]}),n(l,{children:[B(a.updatedAt)," (",j(a.updatedAt),")"]})]},t))})]})})}),e(q,{}),e(z,{sx:{justifyContent:"flex-end"},children:e(D,{color:"inherit",endIcon:e(E,{fontSize:"small",children:e(M,{})}),size:"small",variant:"text",children:"View all"})})]})};y.proptotype={orders:s.array,sx:s.object};const te=()=>{const{sps:i}=N(t=>t.adminData),[o,d]=h.useState(null),[r,m]=h.useState({SPs:0,users:0});h.useEffect(()=>{a()},[]),h.useEffect(()=>{i&&d(i.filter(t=>parseInt(t.approved,10)===0))},[i]);const a=async()=>{try{const t=await O.get("/admin.api/gettotals");if(t.status===200){if(JSON.stringify(t.data)===JSON.stringify(r))return;m(t.data)}}catch(t){console.log(t),t.response?console.log(t.response,t.message):t.request?t.request.status?console.error(t.message,t.request):console.log(t.request,t.message):console.log(t.message)}};return h.useEffect(()=>{},[]),n(V,{maxWidth:"xl",children:[e(p,{variant:"h4",sx:{mb:5},children:"Dashboard"}),n(c,{container:!0,spacing:3,children:[e(c,{item:!0,xs:12,sm:6,md:3,children:e(u,{title:"Monthly Sales",total:0,icon:e(Z,{})})}),e(c,{item:!0,xs:12,sm:6,md:3,children:e(u,{title:"Service Providers",total:r.SPs,icon:e(G,{})})}),e(c,{item:!0,xs:12,sm:6,md:3,children:e(u,{title:"Clients",total:r.users,icon:e(J,{})})}),e(c,{item:!0,xs:12,sm:6,md:3,children:e(u,{title:"App Rating",total:3.9,icon:e(H,{})})}),o&&e(c,{item:!0,xs:12,md:12,lg:12,children:e(y,{sps:o})})]})]})};export{te as default};
