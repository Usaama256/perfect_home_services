import{e as J,j as e,r as o,a as i,F as A,I as f,P as T,a9 as B,ac as M,E as h,h as u,G as R,S,M as D,i as Q,ad as X,ae as he,af as ue,ag as ge,ah as me,ai as ve,T as Z,aj as ye,ak as ee,al as I,am as $,B as te,an as ae,ao as fe,ap as w,aq as be,ar as xe,as as Se,a8 as k,p as m,at as Pe,au as _e,b as z,u as ne,av as re,aw as we,ax as Re,V as H,ay as Ie,az as ke,aA as Ae,aB as Te,aC as F,aD as Ce,y as Le,L as Oe,aE as Ee,aF as U,aG as De,aH as Ne,W as Be,aI as b,aJ as x,c as Me,aK as K,aL as ze,aM as He,aN as We,aO as je,aP as g,aQ as P,aR as y,aS as Y}from"./index-559316ce.js";const Ge=J(e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info"),Ve=J(e("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6.43 9.57L12 15l-1.57-3.43L7 10l3.43-1.57L12 5l1.57 3.43L17 10l-3.43 1.57z"}),"Reviews"),$e=[{label:"Home",icon:e(X,{}),linkTo:"/SPdash/home"},{label:"Profile",icon:e(he,{}),linkTo:"/SPdash/info"},{label:"Settings",icon:e(ue,{}),linkTo:"#"}];function Fe({user:t,openLogout:a}){const r=o.useRef(null),[l,s]=o.useState(null),d=n=>{s(n.currentTarget)},c=()=>{s(null)};return i(A,{children:[e(f,{ref:r,onClick:d,sx:{p:0,...l&&{"&:before":{zIndex:1,content:"''",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",bgcolor:n=>T(n.palette.grey[900],.8)}}},children:e(B,{src:t.owner.avator?t.owner.avator:"null",alt:t.owner.firstName})}),i(M,{open:!!l,anchorEl:l,onClose:c,sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:[i(h,{sx:{my:1.5,px:2.5},children:[e(u,{variant:"subtitle2",noWrap:!0,children:t.owner.avator}),e(u,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:t.owner.email})]}),e(R,{sx:{borderStyle:"dashed"}}),e(S,{sx:{p:1},children:$e.map(n=>e(D,{to:n.linkTo,component:Q,onClick:c,children:n.label},n.label))}),e(R,{sx:{borderStyle:"dashed"}}),e(D,{onClick:()=>{a(),c()},sx:{m:1},children:"Logout"})]})]})}const L=[{value:"en",label:"English",icon:"/static/icons/ic_flag_en.svg"},{value:"ug",label:"Luganda",icon:"/static/icons/ic_flag_ug.svg"},{value:"de",label:"German",icon:"/static/icons/ic_flag_de.svg"},{value:"fr",label:"French",icon:"/static/icons/ic_flag_fr.svg"}],Ue=()=>{const[t,a]=o.useState(L[0]),r=o.useRef(null),[l,s]=o.useState(!1),d=()=>{s(!0)},c=n=>{s(!1)};return i(A,{children:[e(f,{ref:r,onClick:d,sx:{padding:0,width:44,height:44,...l&&{bgcolor:n=>T(n.palette.primary.main,n.palette.action.focusOpacity)}},children:e("img",{src:t==null?void 0:t.icon,alt:t==null?void 0:t.label,style:(t==null?void 0:t.value)==="ug"?{width:"28px",height:"20px",borderRadius:"4px"}:{}})}),e(M,{open:l,onClose:c,anchorEl:r.current,sx:{mt:1.5,ml:.75,width:180,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}},children:e(S,{spacing:.75,children:L.map(n=>i(D,{selected:n.value===L[0].value,onClick:()=>{a(n),c()},children:[e(h,{component:"img",alt:n.label,src:n.icon,sx:{width:28,mr:2}}),n.label]},n.value))})})]})},Ke=[{id:"12er432",title:"Notification",description:"You have no notifications",avatar:null,type:"chat_message",createdAt:ge(new Date,{hours:0,minutes:0}),isUnRead:!0}],Ye=()=>{const t=o.useRef(null),[a,r]=o.useState(Ke),l=a.filter(p=>p.isUnRead===!0).length,[s,d]=o.useState(null),c=p=>{d(p.currentTarget)},n=()=>{d(null)},v=()=>{r(a.map(p=>({...p,isUnRead:!1})))};return i(A,{children:[e(f,{ref:t,color:s?"primary":"default",onClick:c,sx:{width:40,height:40},children:e(me,{badgeContent:l,color:"error",children:e(ve,{width:20,height:20})})}),i(M,{open:!!s,anchorEl:s,onClose:n,sx:{width:360,p:0,mt:1.5,ml:.75},children:[i(h,{sx:{display:"flex",alignItems:"center",py:2,px:2.5},children:[i(h,{sx:{flexGrow:1},children:[e(u,{variant:"subtitle1",children:"Notifications"}),i(u,{variant:"body2",sx:{color:"text.secondary"},children:["You have ",l," unread messages"]})]}),l>0&&e(Z,{title:" Mark all as read",children:e(f,{color:"primary",onClick:v,children:e(ye,{width:20,height:20})})})]}),e(R,{sx:{borderStyle:"dashed"}}),i(ee,{sx:{height:{xs:340,sm:"auto"}},children:[e(I,{disablePadding:!0,subheader:e($,{disableSticky:!0,sx:{py:1,px:2.5,typography:"overline"},children:"New"}),children:a.slice(0,2).map(p=>e(q,{notification:p},p.id))}),e(I,{disablePadding:!0,subheader:e($,{disableSticky:!0,sx:{py:1,px:2.5,typography:"overline"},children:"Before that"}),children:a.slice(2,5).map(p=>e(q,{notification:p},p.id))})]}),e(R,{sx:{borderStyle:"dashed"}}),e(h,{sx:{p:1},children:e(te,{fullWidth:!0,disableRipple:!0,children:"View All"})})]})]})},q=({notification:t})=>{const{avatar:a,title:r}=qe(t);return i(ae,{sx:{py:1.5,px:2.5,mt:"1px",...t.isUnRead&&{bgcolor:"action.selected"}},children:[e(fe,{children:e(B,{sx:{bgcolor:"background.neutral"},children:a})}),e(w,{primary:r,secondary:i(u,{variant:"caption",sx:{mt:.5,display:"flex",alignItems:"center",color:"text.disabled"},children:[e(be,{sx:{mr:.5,width:16,height:16}}),xe(t.createdAt)]})})]})},qe=t=>{const a=i(u,{variant:"subtitle2",children:[t.title,i(u,{component:"span",variant:"body2",sx:{color:"text.secondary"},children:["Â  ",Se(t.description)]})]});return t.type==="order_placed"?{avatar:e("img",{alt:t.title,src:"/static/icons/ic_notification_package.svg"}),title:a}:t.type==="order_shipped"?{avatar:e("img",{alt:t.title,src:"/static/icons/ic_notification_shipping.svg"}),title:a}:t.type==="mail"?{avatar:e("img",{alt:t.title,src:"/static/icons/ic_notification_mail.svg"}),title:a}:t.type==="chat_message"?{avatar:e("img",{alt:t.title,src:"/static/icons/ic_notification_chat.svg"}),title:a}:{avatar:t.avatar?e("img",{alt:t.title,src:t.avatar}):null,title:a}},ie=({onOpenSidebar:t})=>{const{user:a}=z(d=>d.user),r=ne(),[l,s]=o.useState(!1);return i(Ze,{children:[l&&e(re,{open:l,setOpen:s}),i(et,{children:[e(f,{onClick:t,sx:{mr:1,color:"text.primary",display:{lg:"none"}},children:e(we,{})}),i(S,{direction:"column",alignItems:"flex-start",justifyContent:"center",gap:"3px",children:[e(u,{color:"text.primary",variant:"h5",children:"Service Provider Section"}),e(u,{color:"text.primary",variant:"h4",children:a.title})]}),e(h,{sx:{flexGrow:1}}),i(S,{direction:"row",alignItems:"center",spacing:{xs:.5,sm:1.5},children:[e(Z,{title:"Landing Page",arrow:!0,children:e(f,{onClick:()=>r("/"),sx:{padding:0,width:44,height:44},children:e(X,{})})}),e(Ue,{}),e(Ye,{}),e(Fe,{user:a,openLogout:()=>s(!0)})]})]})]})};ie.propTypes={onOpenSidebar:k.func};const Je=280,Qe=64,Xe=92,Ze=m(Pe)(({theme:t})=>({boxShadow:"none",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",backgroundColor:T(t.palette.background.default,.72),[t.breakpoints.up("lg")]:{width:`calc(100% - ${Je+1}px)`}})),et=m(_e)(({theme:t})=>({minHeight:Qe,[t.breakpoints.up("lg")]:{minHeight:Xe,padding:t.spacing(0,5)}})),O=m(t=>e(ae,{disableGutters:!0,...t}))(({theme:t})=>({...t.typography.body2,height:48,position:"relative",textTransform:"capitalize",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius})),E=m(Re)({width:22,height:22,color:"inherit",display:"flex",alignItems:"center",justifyContent:"center"}),oe=({item:t,active:a})=>{const r=Ie(),l=a(t.path),{title:s,path:d,icon:c,info:n,children:v}=t,[p,le]=o.useState(l),ce=()=>{le(C=>!C)},W={color:"primary.main",fontWeight:"fontWeightMedium",bgcolor:T(r.palette.primary.main,r.palette.action.selectedOpacity)},de={color:"text.primary",fontWeight:"fontWeightMedium"};return v?i(A,{children:[i(O,{onClick:ce,sx:{...l&&W},children:[e(E,{children:c&&c}),e(w,{disableTypography:!0,primary:s}),n&&n,p?e(ke,{}):e(Ae,{})]}),e(Te,{in:p,timeout:"auto",unmountOnExit:!0,children:e(I,{component:"div",disablePadding:!0,children:v.map(C=>{const{title:j,path:G}=C,V=a(G);return i(O,{component:F,to:G,sx:{...V&&de},children:[e(E,{children:e(h,{component:"span",sx:{width:4,height:4,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",bgcolor:"text.disabled",transition:pe=>pe.transitions.create("transform"),...V&&{transform:"scale(2)",bgcolor:"primary.main"}}})}),e(w,{disableTypography:!0,primary:j})]},j)})})})]}):i(O,{component:F,to:d,sx:{...l&&W},children:[e(E,{children:c&&c}),e(w,{disableTypography:!0,primary:s}),n&&n]})};oe.propTypes={item:k.object,active:k.func};const se=({navConfig:t,...a})=>{const{pathname:r}=H(),l=s=>s?!!Ce({path:s,end:!1},r):!1;return e(h,{...a,children:e(I,{disablePadding:!0,sx:{p:1},children:t.map(s=>e(oe,{item:s,active:l},s.title))})})};se.propTypes={navConfig:k.array};const tt=[{title:"dashboard",path:"/SPdash/home",icon:e(De,{width:22,height:22})},{title:"products / services",path:"/SPdash/products",icon:e(Ne,{width:22,height:22})},{title:"reviews",path:"/SPdash/reviews",icon:e(Ve,{width:22,height:22})},{title:"Company Info",path:"/SPdash/info",icon:e(Ge,{width:22,height:22})}],at=({isOpenSidebar:t,onCloseSidebar:a})=>{const{user:r}=z(v=>v.user),{pathname:l}=H(),[s,d]=o.useState(!1),c=Le("up","lg");o.useEffect(()=>{t&&a()},[l]);const n=i(ee,{sx:{height:1,"& .simplebar-content":{height:1,display:"flex",flexDirection:"column"}},children:[s&&e(re,{open:s,setOpen:d}),e(h,{sx:{px:2.5,py:3,display:"inline-flex"},children:e("img",{src:r.logo,alt:"alt",width:"100%"})}),e(h,{style:{margin:"2.5px 5px"},children:e(Oe,{underline:"none",component:Q,to:"/SPdash/info",children:i(rt,{children:[e(B,{src:r.owner.avator?r.owner.avator:"null",alt:r.owner.firstName}),e(h,{sx:{ml:2},children:i(u,{variant:"subtitle2",sx:{color:"text.primary"},children:[r.owner.firstName," ",r.owner.lastName]})})]})})}),e(se,{navConfig:tt}),e(h,{sx:{flexGrow:1}}),e(h,{sx:{px:2.5,pb:3,mt:10},children:e(S,{alignItems:"center",spacing:3,sx:{pt:5,borderRadius:2,position:"relative"},children:e(te,{variant:"outlined",color:"primary",startIcon:e(Ee,{}),onClick:()=>d(!0),children:"Log Out"})})})]});return i(nt,{children:[!c&&e(U,{open:t,onClose:a,PaperProps:{sx:{width:N}},children:n}),c&&e(U,{open:!0,variant:"persistent",PaperProps:{sx:{width:N,bgcolor:"background.default",borderRightStyle:"dashed"}},children:n})]})},N=280,nt=m("div")(({theme:t})=>({[t.breakpoints.up("lg")]:{flexShrink:0,width:N}})),rt=m("div")(({theme:t})=>({display:"flex",alignItems:"center",padding:t.spacing(2,2.5),borderRadius:Number(t.shape.borderRadius)*1.5,backgroundColor:t.palette.grey[50012]})),it=64,ot=92,st=m("div")({display:"flex",minHeight:"100%",overflow:"hidden"}),lt=m("div")(({theme:t})=>({flexGrow:1,overflow:"auto",minHeight:"100%",paddingTop:it+24,paddingBottom:t.spacing(10),[t.breakpoints.up("lg")]:{paddingTop:ot+24,paddingLeft:t.spacing(2),paddingRight:t.spacing(2)}})),_=({children:t,title:a})=>{const[r,l]=o.useState(!1);return i(st,{children:[e(Be,{children:e("title",{children:a?`${a} | Perfect Home Services`:"Perfect Home Services"})}),e(ie,{onOpenSidebar:()=>l(!0)}),e(at,{isOpenSidebar:r,onCloseSidebar:()=>l(!1)}),e(lt,{children:t})]})},ct=o.lazy(()=>b(()=>x(()=>import("./Page404-2fc8db99.js"),["assets/Page404-2fc8db99.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/GenLayout-fa677226.js","assets/Container-49e24797.js"]))),dt=o.lazy(()=>b(()=>x(()=>import("./SpHome-412989f2.js"),["assets/SpHome-412989f2.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/formatNumber-ad6ee0d3.js","assets/Card-2c90ac9f.js","assets/SpContactSummary-c0f77c03.js","assets/CardHeader-648a1719.js","assets/TableRow-2f33760f.js","assets/Chip-c953b218.js","assets/Phone-615fd2c4.js","assets/SpAccountSuspended-b03ad7ca.js","assets/Container-49e24797.js","assets/Grid-2fa76f59.js"]))),pt=o.lazy(()=>b(()=>x(()=>import("./SPInfo-d483b7a2.js"),["assets/SPInfo-d483b7a2.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/Card-2c90ac9f.js","assets/CardContent-e3b9abf5.js","assets/CardHeader-648a1719.js","assets/Grid2-0add4141.js","assets/CameraAlt-dc308bca.js","assets/TextField-d3365dcc.js","assets/Select-3d2ee0e4.js","assets/useFormControl-ad3eb840.js","assets/Close-e1edc6ff.js","assets/SpAccountSuspended-b03ad7ca.js","assets/Container-49e24797.js","assets/Grid-2fa76f59.js"]))),ht=o.lazy(()=>b(()=>x(()=>import("./Products-c2f790d6.js"),["assets/Products-c2f790d6.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/KeyboardArrowUp-bd074b9b.js","assets/Select-3d2ee0e4.js","assets/useFormControl-ad3eb840.js","assets/Delete-b4e49272.js","assets/TableContainer-97b8cfb5.js","assets/TableRow-2f33760f.js","assets/Edit-d10f50ea.js","assets/Card-2c90ac9f.js","assets/base64ImgConverter-9cb29916.js","assets/CardHeader-648a1719.js","assets/CardContent-e3b9abf5.js","assets/Grid2-0add4141.js","assets/TextField-d3365dcc.js","assets/CameraAlt-dc308bca.js","assets/SpAccountSuspended-b03ad7ca.js","assets/Container-49e24797.js","assets/Grid-2fa76f59.js"]))),ut=o.lazy(()=>b(()=>x(()=>import("./Reviews-9045cd65.js"),["assets/Reviews-9045cd65.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/ReviewsTb-b2251206.js","assets/Card-2c90ac9f.js","assets/CardHeader-648a1719.js","assets/TableRow-2f33760f.js","assets/Chip-c953b218.js","assets/SpAccountSuspended-b03ad7ca.js","assets/Container-49e24797.js","assets/Grid-2fa76f59.js"]))),gt=o.lazy(()=>b(()=>x(()=>import("./SpNotApproved-bc72a9d1.js"),["assets/SpNotApproved-bc72a9d1.js","assets/index-559316ce.js","assets/index-1057d608.css","assets/Container-49e24797.js","assets/Card-2c90ac9f.js"]))),mt=()=>{const t=H().pathname.split("/")[2],{user:a}=z(n=>n.user),r=Me(),l=ne(),[s,d]=o.useState(!1),c=()=>d(!s);return o.useEffect(()=>{t==="not_approved"?K(a.id,a,r,l):K(a.id,a,r);const n=setInterval(c,3e3);return()=>clearInterval(n)},[s]),o.useEffect(()=>{parseInt(a.approved,10)===1&&(ze(a.id,r),He(a.id,r),We(a.id,r))},[]),i(je,{children:[e(g,{path:"/home",element:e(P,{children:e(_,{title:"SP Home",children:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(dt,{})})})})}),e(g,{path:"/not_approved",element:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(gt,{})})}),e(g,{path:"/products",element:e(P,{children:e(_,{title:"SP Products",children:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(ht,{})})})})}),e(g,{path:"/reviews",element:e(P,{children:e(_,{title:"SP Reviews",children:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(ut,{})})})})}),e(g,{path:"/info",element:e(P,{children:e(_,{title:"SP Info",children:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(pt,{})})})})}),e(g,{path:"/",element:e(Y,{to:"/SPdash/home"})}),e(g,{path:"/404",element:e(o.Suspense,{fallback:e("div",{children:e(y,{})}),children:e(ct,{src:"sp"})})}),e(g,{path:"*",element:e(Y,{to:"/SPdash/404"})})]})},yt=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}));export{Ve as R,yt as S};
