import{l as z,m as B,r as p,j as e,aV as R,aw as H,f as n,aW as N,aX as P,aY as j,aZ as g,a_ as G,aJ as _,I as w,T as k,a2 as E,aU as V,a9 as J,A as O,S,C as b,a$ as D,ar as I,x as L,y as M,z as X,G as u,t as W,w as C,D as Y,E as Z,B as $,k as K,aN as F}from"./index-36c7f493.js";import{d as Q,a as ee}from"./KeyboardArrowUp-ff9e61ac.js";import{E as ae,A as re}from"./Edit-5d5d2018.js";import{D as ie}from"./Scrollbar-afe2dcbd.js";import{i as te}from"./base64ImgConverter-9cb29916.js";import{C as U}from"./CameraAlt-04b58bb3.js";import{C as se}from"./Container-308d85a9.js";const ne={overflow:"hidden",boxShadow:"0px 2px 5px #0000008e",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",height:320,width:320},le=({row:t,fetching:i,enableService:s,disableService:f})=>{var r,a,v,x;const{enqueueSnackbar:o}=z(),[h,m]=p.useState(!1),d=(r=t.desc)==null?void 0:r.substring(0,20);return n(_.Fragment,{children:[n(j,{sx:{"& > *":{borderBottom:"unset"},background:`${parseInt(t.active,10)===1?"":"#ff5d5d7c"}`},children:[e(g,{children:e(w,{"aria-label":"expand row",size:"small",onClick:()=>m(!h),children:h?e(Q,{}):e(ee,{})})}),e(g,{align:"left",children:t.Sid}),e(g,{component:"th",scope:"row",children:t.Sname}),e(g,{align:"left",children:((a=t.desc)==null?void 0:a.length)>0?`${((v=t.desc)==null?void 0:v.length)>20?`${d}...`:t.desc}`:"N/A"}),e(g,{component:"th",scope:"row",children:e(k,{color:parseInt(t.active,10)===1?"success":"error",children:parseInt(t.active,10)===1?"Active":"Disabled"})}),n(g,{align:"right",children:[parseInt(t.active,10)===1&&e(E,{title:"Edit Service",arrow:!0,children:e(w,{color:"primary",size:"large",disabled:i,onClick:()=>o("Our Engineers Are Working On It",{variant:"info"}),children:e(ae,{})})}),"  ",parseInt(t.active,10)===1?e(E,{title:"Disable Service",arrow:!0,children:e(w,{color:"error",size:"large",onClick:()=>f(),disabled:i,children:e(V,{})})}):e(E,{title:"Enable Service",arrow:!0,children:e(w,{color:"success",size:"large",onClick:()=>s(),disabled:i,children:e(ie,{})})})]})]}),e(j,{children:e(g,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e(J,{in:h,timeout:"auto",unmountOnExit:!0,children:n(O,{sx:{margin:1},children:[e("br",{}),e(k,{variant:"h6",gutterBottom:!0,component:"div",children:"Images"}),e("br",{}),n(N,{size:"small","aria-label":"purchases",children:[e(S,{direction:"row",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",spacing:3,sx:{width:"100%"},children:(x=t.imgs)==null?void 0:x.map((y,l)=>e(b,{style:ne,children:e("img",{src:y.src,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})},l))}),e("br",{}),e(S,{direction:"row",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",spacing:3,sx:{width:"100%"},children:t.desc}),e("br",{})]})]})})})})]})},oe=({services:t})=>{const{enqueueSnackbar:i}=z(),s=B(),[f,o]=p.useState(!1),h=async d=>{var r;try{i("Disabling Service",{variant:"info"}),o(!0),(await D.get(`/admin.api/disableService/${d}`)).status===200?(i("Disabling Service Successfully",{variant:"success"}),I(s)):i("Error: Disabling Service Failed",{variant:"error"})}catch(a){i("Error: Disabling Service Failed",{variant:"error"}),i((r=a.response)==null?void 0:r.data,{variant:"error"}),console.log(a),a.response?console.log(a.response,a.message):a.request?a.request.status?console.error(a.message,a.request):console.log(a.request,a.message):console.log(a.message)}finally{o(!1)}},m=async d=>{var r;try{i("Enabling Service",{variant:"info"}),o(!0),(await D.get(`/admin.api/enableService/${d}`)).status===200?(i("Enabling Service Successfully",{variant:"success"}),I(s)):i("Error: Enabling Service Failed",{variant:"error"})}catch(a){i("Error: Enabling Service Failed",{variant:"error"}),i((r=a.response)==null?void 0:r.data,{variant:"error"}),console.log(a),a.response?console.log(a.response,a.message):a.request?a.request.status?console.error(a.message,a.request):console.log(a.request,a.message):console.log(a.message)}finally{o(!1)}};return e(R,{component:H,children:n(N,{"aria-label":"collapsible table",children:[e(P,{children:n(j,{children:[e(g,{}),e(g,{children:"Id"}),e(g,{align:"left",children:"Title"}),e(g,{align:"left",children:"Description"}),e(g,{align:"left",children:"Status"}),e(g,{align:"right",children:"Actions"})]})}),e(G,{children:t==null?void 0:t.map((d,r)=>e(le,{row:d,fetching:f,disableService:()=>h(d.Sid),enableService:()=>m(d.Sid)},r))})]})})},T={overflow:"hidden",boxShadow:"0px 2px 5px #0000008e",display:"flex",alignItems:"center",justifyContent:"center",height:320,width:320},ce=()=>{const t=B(),{enqueueSnackbar:i}=z(),[s,f]=p.useState(!1),[o,h]=p.useState(!1),[m,d]=p.useState({Sname:"",desc:""}),[r,a]=p.useState({one:"",two:"",three:""}),v=(l,c)=>{l.target.files.length!==0&&(h(!0),i("Please Wait While Uploading Images",{variant:"info"}),te(l.target.files[0]).then(A=>{c===1?(a({...r,one:A}),h(!1),i("Image 1 Uploaded Successfully",{variant:"success"})):c===2?(a({...r,two:A}),h(!1),i("Image 2 Uploaded Successfully",{variant:"success"})):c===3&&(a({...r,three:A}),h(!1),i("Image 3 Uploaded Successfully",{variant:"success"}))})),l.target.value=null},x=async()=>{var l;if(o===!0)i("Please Wait While Uploading Images",{variant:"info"});else if(m.Sname<2)i("Enter A Valid Service Name",{variant:"error"});else try{i("Please wait while adding the New Service",{variant:"info"}),f(!0),(await D.post("/admin.api/addService",{...m,imgsArr:[r.one?r.one:"",r.two?r.two:"",r.three?r.three:""]})).status===200?(i("Service Added Successfully",{variant:"success"}),y(),I(t)):i("Error: Service Not Added",{variant:"error"})}catch(c){i("Error: Service Not Added",{variant:"error"}),i((l=c.response)==null?void 0:l.data,{variant:"error"}),console.log(c),c.response?console.log(c.response,c.message):c.request?c.request.status?console.error(c.message,c.request):console.log(c.request,c.message):console.log(c.message)}finally{f(!1)}},y=()=>{d({Sname:"",desc:"",imgsArr:[]}),a({one:"",two:"",three:""})};return n(b,{children:[e(M,{title:"Add Service"}),e(X,{sx:{pt:0},children:e(O,{sx:{margin:"20px 0px 10px 0px"},children:n(u,{container:!0,spacing:3,columns:12,children:[e(u,{item:!0,xs:12,md:12,children:e(W,{fullWidth:!0,label:"Service Title",required:!0,value:m.Sname,onChange:l=>d({...m,Sname:l.target.value}),disabled:s})}),e(u,{item:!0,xs:12,md:12,children:e(W,{fullWidth:!0,label:"Description",helperText:"Not More than 100 words",multiline:!0,rows:4,value:m.desc,onChange:l=>d({...m,desc:l.target.value}),disabled:s})}),n(u,{container:!0,spacing:1,xs:12,md:12,columns:12,children:[e(u,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:T,children:r.one&&e("img",{src:r.one,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img1Upload",disabled:s||o,name:"imageUpload",accept:"image/*",onChange:l=>v(l,1)}),e("label",{htmlFor:"img1Upload",disabled:s||o,children:n(q,{disabled:s||o,children:["Upload Image One",e(C,{size:"large",children:e(U,{})})]})})]})}),e(u,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:T,children:r.two&&e("img",{src:r.two,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img2Upload",disabled:s||o||r.one.length===0,name:"imageUpload",accept:"image/*",onChange:l=>v(l,2)}),e("label",{htmlFor:"img2Upload",disabled:s||o||r.one.length===0,children:n(q,{disabled:s||o||r.one.length===0,children:["Upload Image Two",e(C,{size:"large",children:e(U,{})})]})})]})}),e(u,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:T,children:r.three&&e("img",{src:r.three,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img3Upload",disabled:s||o||r.two.length===0,name:"imageUpload",accept:"image/*",onChange:l=>v(l,3)}),e("label",{htmlFor:"img3Upload",disabled:s||o||r.two.length===0,children:n(q,{disabled:s||o||r.two.length===0,children:["Upload Image Three",e(C,{size:"large",children:e(U,{})})]})})]})})]})]})})}),e(Y,{}),n(Z,{sx:{justifyContent:"flex-end"},children:[e($,{variant:"outlined",color:"secondary",onClick:()=>y(),disabled:s,children:"Reset Fields"}),e($,{variant:"contained",color:"primary",endIcon:e(C,{size:"small",children:e(re,{})}),onClick:()=>x(),disabled:s,children:"Add Service"})]})]})},q=L.div`
  margin: 10px 10px;
  padding: 10px 10px;
  font-size: 1rem;
  font-weight: 700;
  transition: all 0.3s linear;
  background-color: rgba(0, 0, 0, 0);
  border: 0.5px solid #2064d17c;
  color: #2065d1;
  cursor: pointer;
  border-radius: 8px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 8px;
  /* text-transform: uppercase; */

  &:hover {
    background-color: #2064d114;
    border: 1px solid #114fb2;
  }
`,ve=()=>{const{services:t}=K(s=>s.adminData),i=B();return p.useEffect(()=>{I(i)},[]),n(se,{maxWidth:"xl",children:[e(k,{variant:"h4",sx:{mb:5},children:"Services"}),n(F,{container:!0,spacing:3,children:[t&&e(F,{item:!0,xs:12,md:12,lg:12,children:e(oe,{services:t})}),e(F,{item:!0,xs:12,md:12,lg:12,children:e(ce,{})})]})]})};export{ve as default};
