import{g as B,c as W,r as u,j as e,a7 as O,a as n,aW as R,I as C,h as q,T as E,aj as H,aB as P,E as N,S,X as D,aX as I,s as X,D as w,G as _,B as z,b as L}from"./index-559316ce.js";import{d as M,a as V}from"./KeyboardArrowUp-bd074b9b.js";import{T as J}from"./TableContainer-97b8cfb5.js";import{T as G,a as K,b as k,c as m,d as Q}from"./TableRow-2f33760f.js";import{E as Y,A as Z}from"./Edit-d10f50ea.js";import{D as ee}from"./Delete-b4e49272.js";import{C as b}from"./Card-2c90ac9f.js";import{i as re}from"./base64ImgConverter-9cb29916.js";import{C as ie,a as ae}from"./CardHeader-648a1719.js";import{C as te}from"./CardContent-e3b9abf5.js";import{G as p}from"./Grid2-0add4141.js";import{T as $}from"./TextField-d3365dcc.js";import{C as F}from"./CameraAlt-dc308bca.js";import{C as se}from"./Container-49e24797.js";import{G as A}from"./Grid-2fa76f59.js";import"./Select-3d2ee0e4.js";import"./useFormControl-ad3eb840.js";const ne={overflow:"hidden",boxShadow:"0px 2px 5px #0000008e",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",height:320,width:320},le=({row:t,fetching:a,enableService:s,disableService:f})=>{var i,r,v,x;const{enqueueSnackbar:o}=B(),[g,h]=u.useState(!1),d=(i=t.desc)==null?void 0:i.substring(0,20);return n(R.Fragment,{children:[n(k,{sx:{"& > *":{borderBottom:"unset"},background:`${parseInt(t.active,10)===1?"":"#ff5d5d7c"}`},children:[e(m,{children:e(C,{"aria-label":"expand row",size:"small",onClick:()=>h(!g),children:g?e(M,{}):e(V,{})})}),e(m,{align:"left",children:t.Sid}),e(m,{component:"th",scope:"row",children:t.Sname}),e(m,{align:"left",children:((r=t.desc)==null?void 0:r.length)>0?`${((v=t.desc)==null?void 0:v.length)>20?`${d}...`:t.desc}`:"N/A"}),e(m,{component:"th",scope:"row",children:e(q,{color:parseInt(t.active,10)===1?"success":"error",children:parseInt(t.active,10)===1?"Active":"Disabled"})}),n(m,{align:"right",children:[parseInt(t.active,10)===1&&e(E,{title:"Edit Service",arrow:!0,children:e(C,{color:"primary",size:"large",disabled:a,onClick:()=>o("Our Engineers Are Working On It",{variant:"info"}),children:e(Y,{})})}),"  ",parseInt(t.active,10)===1?e(E,{title:"Disable Service",arrow:!0,children:e(C,{color:"error",size:"large",onClick:()=>f(),disabled:a,children:e(ee,{})})}):e(E,{title:"Enable Service",arrow:!0,children:e(C,{color:"success",size:"large",onClick:()=>s(),disabled:a,children:e(H,{})})})]})]}),e(k,{children:e(m,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:e(P,{in:g,timeout:"auto",unmountOnExit:!0,children:n(N,{sx:{margin:1},children:[e("br",{}),e(q,{variant:"h6",gutterBottom:!0,component:"div",children:"Images"}),e("br",{}),n(G,{size:"small","aria-label":"purchases",children:[e(S,{direction:"row",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",spacing:3,sx:{width:"100%"},children:(x=t.imgs)==null?void 0:x.map((y,l)=>e(b,{style:ne,children:e("img",{src:y.src,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})},l))}),e("br",{}),e(S,{direction:"row",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",spacing:3,sx:{width:"100%"},children:t.desc}),e("br",{})]})]})})})})]})},oe=({services:t})=>{const{enqueueSnackbar:a}=B(),s=W(),[f,o]=u.useState(!1),g=async d=>{var i;try{a("Disabling Service",{variant:"info"}),o(!0),(await D.get(`/admin.api/disableService/${d}`)).status===200?(a("Disabling Service Successfully",{variant:"success"}),I(s)):a("Error: Disabling Service Failed",{variant:"error"})}catch(r){a("Error: Disabling Service Failed",{variant:"error"}),a((i=r.response)==null?void 0:i.data,{variant:"error"}),console.log(r),r.response?console.log(r.response,r.message):r.request?r.request.status?console.error(r.message,r.request):console.log(r.request,r.message):console.log(r.message)}finally{o(!1)}},h=async d=>{var i;try{a("Enabling Service",{variant:"info"}),o(!0),(await D.get(`/admin.api/enableService/${d}`)).status===200?(a("Enabling Service Successfully",{variant:"success"}),I(s)):a("Error: Enabling Service Failed",{variant:"error"})}catch(r){a("Error: Enabling Service Failed",{variant:"error"}),a((i=r.response)==null?void 0:i.data,{variant:"error"}),console.log(r),r.response?console.log(r.response,r.message):r.request?r.request.status?console.error(r.message,r.request):console.log(r.request,r.message):console.log(r.message)}finally{o(!1)}};return e(J,{component:O,children:n(G,{"aria-label":"collapsible table",children:[e(K,{children:n(k,{children:[e(m,{}),e(m,{children:"Id"}),e(m,{align:"left",children:"Title"}),e(m,{align:"left",children:"Description"}),e(m,{align:"left",children:"Status"}),e(m,{align:"right",children:"Actions"})]})}),e(Q,{children:t==null?void 0:t.map((d,i)=>e(le,{row:d,fetching:f,disableService:()=>g(d.Sid),enableService:()=>h(d.Sid)},i))})]})})},U={overflow:"hidden",boxShadow:"0px 2px 5px #0000008e",display:"flex",alignItems:"center",justifyContent:"center",height:320,width:320},ce=()=>{const t=W(),{enqueueSnackbar:a}=B(),[s,f]=u.useState(!1),[o,g]=u.useState(!1),[h,d]=u.useState({Sname:"",desc:""}),[i,r]=u.useState({one:"",two:"",three:""}),v=(l,c)=>{l.target.files.length!==0&&(g(!0),a("Please Wait While Uploading Images",{variant:"info"}),re(l.target.files[0]).then(T=>{c===1?(r({...i,one:T}),g(!1),a("Image 1 Uploaded Successfully",{variant:"success"})):c===2?(r({...i,two:T}),g(!1),a("Image 2 Uploaded Successfully",{variant:"success"})):c===3&&(r({...i,three:T}),g(!1),a("Image 3 Uploaded Successfully",{variant:"success"}))})),l.target.value=null},x=async()=>{var l;if(o===!0)a("Please Wait While Uploading Images",{variant:"info"});else if(h.Sname<2)a("Enter A Valid Service Name",{variant:"error"});else try{a("Please wait while adding the New Service",{variant:"info"}),f(!0),(await D.post("/admin.api/addService",{...h,imgsArr:[i.one?i.one:"",i.two?i.two:"",i.three?i.three:""]})).status===200?(a("Service Added Successfully",{variant:"success"}),y(),I(t)):a("Error: Service Not Added",{variant:"error"})}catch(c){a("Error: Service Not Added",{variant:"error"}),a((l=c.response)==null?void 0:l.data,{variant:"error"}),console.log(c),c.response?console.log(c.response,c.message):c.request?c.request.status?console.error(c.message,c.request):console.log(c.request,c.message):console.log(c.message)}finally{f(!1)}},y=()=>{d({Sname:"",desc:"",imgsArr:[]}),r({one:"",two:"",three:""})};return n(b,{children:[e(ie,{title:"Add Service"}),e(te,{sx:{pt:0},children:e(N,{sx:{margin:"20px 0px 10px 0px"},children:n(p,{container:!0,spacing:3,columns:12,children:[e(p,{item:!0,xs:12,md:12,children:e($,{fullWidth:!0,label:"Service Title",required:!0,value:h.Sname,onChange:l=>d({...h,Sname:l.target.value}),disabled:s})}),e(p,{item:!0,xs:12,md:12,children:e($,{fullWidth:!0,label:"Description",helperText:"Not More than 100 words",multiline:!0,rows:4,value:h.desc,onChange:l=>d({...h,desc:l.target.value}),disabled:s})}),n(p,{container:!0,spacing:1,xs:12,md:12,columns:12,children:[e(p,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:U,children:i.one&&e("img",{src:i.one,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img1Upload",disabled:s||o,name:"imageUpload",accept:"image/*",onChange:l=>v(l,1)}),e("label",{htmlFor:"img1Upload",disabled:s||o,children:n(j,{disabled:s||o,children:["Upload Image One",e(w,{size:"large",children:e(F,{})})]})})]})}),e(p,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:U,children:i.two&&e("img",{src:i.two,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img2Upload",disabled:s||o||i.one.length===0,name:"imageUpload",accept:"image/*",onChange:l=>v(l,2)}),e("label",{htmlFor:"img2Upload",disabled:s||o||i.one.length===0,children:n(j,{disabled:s||o||i.one.length===0,children:["Upload Image Two",e(w,{size:"large",children:e(F,{})})]})})]})}),e(p,{item:!0,xs:12,md:4,columns:4,children:n(S,{direction:"column",alignItems:"center",justifyContent:"center",gap:1,children:[e(b,{style:U,children:i.three&&e("img",{src:i.three,alt:"img",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e("input",{style:{display:"none"},type:"file",id:"img3Upload",disabled:s||o||i.two.length===0,name:"imageUpload",accept:"image/*",onChange:l=>v(l,3)}),e("label",{htmlFor:"img3Upload",disabled:s||o||i.two.length===0,children:n(j,{disabled:s||o||i.two.length===0,children:["Upload Image Three",e(w,{size:"large",children:e(F,{})})]})})]})})]})]})})}),e(_,{}),n(ae,{sx:{justifyContent:"flex-end"},children:[e(z,{variant:"outlined",color:"secondary",onClick:()=>y(),disabled:s,children:"Reset Fields"}),e(z,{variant:"contained",color:"primary",endIcon:e(w,{size:"small",children:e(Z,{})}),onClick:()=>x(),disabled:s,children:"Add Service"})]})]})},j=X.div`
  margin: 10px 10px;
  padding: 10px 10px;
  font-size: 1rem;
  font-weight: 700;
  transition: all 0.3s linear;
  background-color: rgba(0, 0, 0, 0);
  border: 0.5px solid #2064d17c;
  color: #2065d1;
  cursor: pointer;
  border-radius: 8px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 8px;
  /* text-transform: uppercase; */

  &:hover {
    background-color: #2064d114;
    border: 1px solid #114fb2;
  }
`,Fe=()=>{const{services:t}=L(s=>s.adminData),a=W();return u.useEffect(()=>{I(a)},[]),n(se,{maxWidth:"xl",children:[e(q,{variant:"h4",sx:{mb:5},children:"Services"}),n(A,{container:!0,spacing:3,children:[t&&e(A,{item:!0,xs:12,md:12,lg:12,children:e(oe,{services:t})}),e(A,{item:!0,xs:12,md:12,lg:12,children:e(ce,{})})]})]})};export{Fe as default};
